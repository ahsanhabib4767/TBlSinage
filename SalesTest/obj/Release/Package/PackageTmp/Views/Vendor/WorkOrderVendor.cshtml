@model IEnumerable<SalesTest.Models.VendorConfirm>
@{
    Layout = "~/Views/Shared/_LayoutTwo.cshtml";
}
@{
    ViewBag.Title = "Work Request Status";
}
<!-- page content -->
<div class="right_col" role="main">
    <div class="">
        <div class="clearfix"></div>
        <div class="row">
            <div class="col-md-12">
                <div class="x_panel">
                    <div class="x_title">

                        <ul class="nav navbar-right panel_toolbox">
                            <li>
                                <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
                                <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                    <a class="dropdown-item" href="#">Settings 1</a>
                                    <a class="dropdown-item" href="#">Settings 2</a>
                                </div>
                            </li>
                            <li>
                                <a class="close-link"><i class="fa fa-close"></i></a>
                            </li>
                        </ul>
                        <div class="clearfix"></div>
                    </div>
                    <div class="x_content">
                        <p>Progress Status of a Request</p>

                        <table class="table table-striped projects">
                            <thead>
                                <tr>
                                    <th style="width: 1%">#</th>
                                    <th class="column-title">Request ID</th>
                                    <th class="column-title">After Signage</th>
                                    <th class="column-title">Outlet Code</th>
                                    <th class="column-title">Region Name</th>
                                    <th class="column-title">Ce Area Name</th>
                                    <th class="column-title">Bill</th>


                                </tr>
                            </thead>
                            @foreach (var item in Model)
                            {
                                <tbody>
                                    <tr>
                                        <td>#</td>
                                        <td>
                                           @Html.DisplayFor(model => item.VenReqID) 
                                        </td>
                                        <td>
                                            <img src="~/AppFile/Images/@item.PicUrl2" height="50" width="50" />
                                        </td>
                                        <td>
                                            @Html.DisplayFor(model => item.OutletCode)
                                        </td>
                                        <td>
                                            @Html.DisplayFor(model => item.RegionName)
                                        </td>
                                        <td>
                                            @Html.DisplayFor(model => item.CeAreaName)
                                        </td>
                                        <td style="color:red">
                                            @if (item.installDate != null)
                                            {
                                                <h4>Done</h4>
                                                @Html.ActionLink("Print For Bill", "Workorder", "Report", new { reqid = item.VenReqID }, new { @class = "btn btn-success pull-right btn-sm glyphicon glyphicon-print", @target = "_blank" })
                                            }
                                           @if (item.installDate == null)
                                           {
                                            <h4>Not Done</h4>
                                               
                                           }

                                        </td>

                                    </tr>

                                </tbody>
                            }
                        </table>


                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- /page content -->

<div id="tabledata"></div>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>
 $('#showReport').click(function () {
            $("#ajax_load").show();
            var wValue = $("#ReqID").val();


                $.ajax({
                    url: "@Url.Action("Workorder", "Report")",
                    dataType: "HTML",
                    type: "POST",
                    data: { reqid: wValue },
                    cache: false,
                    async: true,
                    success: function(data) {
                        $("#tabledata").html(data);
                    }
                });



        })

</script>
